<!DOCTYPE html>
<html>
  <head>
    <title>Panel zarządzania-Transmisja Sesji Rady Powiatu Brzeziny</title>
    <script src="//cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="../style.css" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  </head>

  <body>
    <header class="bg-dark d-flex justify-content-between align-items-center mb-4 p-3">
      <h1 class="text-white mb-0">Panel zarządzania transmisją</h1>
      <button id="logoutButton" class="btn btn-light">Wyloguj</button>
    </header>

    <main>
      <section class="mb-4 text-center">
        <h2 id="stream-status" class="mt-3">Transmisja offline</h2>
        <div id="camera-name"></div>

        <div id="choose-camera" class="container mb-5 mt-5">
          <form id="camera-form" class="row">
            <label for="camera-first" class="col container">
              <input id="camera-first" type="radio" name="camera" checked value="camera-first" />
              <span class="checkmark">
                <div>Kamera 1</div>
                <div>Urząd Miasta</div>
              </span>
            </label>

            <label for="camera-second" class="col container">
              <input id="camera-second" type="radio" name="camera" value="camera-second" />
              <span class="checkmark">
                <div>Kamera 2</div>
                <div>Sala Kilińskiego</div>
              </span>
            </label>
          </form>
        </div>

        <div id="status-wrapper" class="hide d-flex justify-content-center align-items-center">
          <span>Nagrywanie&nbsp;</span>
          <span id="light" class="recording-light blinking-light"></span>
        </div>

        <div class="d-flex justify-content-center">
          <button id="startStream" class="btn btn-dark">Rozpocznij transmisje</button>

          <button id="endStream" class="btn btn-danger hide">Zakończ transmisje</button>
        </div>
      </section>

      <section id="video-wrapper" class="hide">
        <div id="captions-container">
          <div id="captions"></div>
        </div>
        <button id="btn-fullscrean" class="btn">
          <svg version="1.1" viewBox="0 0 36 36">
            <path d="m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z"></path>
            <path d="m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z"></path>
            <path d="m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z"></path>
            <path d="M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z"></path>
          </svg>
        </button>

        <button id="btn-play" class="btn">
          <svg viewBox="0 0 26 26">
            <polygon points="9.33 6.69 9.33 19.39 19.3 13.04 9.33 6.69" />
          </svg>
        </button>

        <button id="btn-stop" class="btn hide">
          <svg viewBox="0 0 26 26">
            <path
              d="M3.5 5A1.5 1.5 0 0 1 5 3.5h6A1.5 1.5 0 0 1 12.5 5v6a1.5 1.5 0 0 1-1.5 1.5H5A1.5 1.5 0 0 1 3.5 11V5zM5 4.5a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 .5.5h6a.5.5 0 0 0 .5-.5V5a.5.5 0 0 0-.5-.5H5z"
            />
          </svg>
        </button>

        <video id="video">
          <source src="hls/stream.m3u8" type="application/x-mpegURL" />
          Your browser does not support the video tag.
        </video>
      </section>
    </main>

    <script type="module" src="../js/panel/index.js"></script>
    <script type="module" src="../js/stream/index.js"></script>
  </body>
</html>
